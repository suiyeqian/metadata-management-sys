<my-breadcrumb [curPath]="pagetitle"></my-breadcrumb>

<my-page-title [pagetitle]="pagetitle"></my-page-title>

<form (ngSubmit)="onSearch()">
  <div class="search">
    <div class="form-group">
      <input type="text" [(ngModel)]="searchModel.tableName" name="tableName" class="form-control search-input" placeholder="按中文表名、英文表名搜索" #tableName="ngModel">
    </div>
    <button type="submit" name="button" class="btn btn-blue btn-search">搜索</button>
  </div>
  <div class="select-box">
    <div class="result-desc">
      表搜索 共{{tblResult.totalCount}}个
    </div>
    <div *ngFor = "let option of options" class="select-items">
      <div class="select-key">
        {{option.cdeTypeDesc}} :
      </div>
      <div class="select-value">
        <ul class="select-list">
          <li *ngFor = "let selOpt of option.valueList" class="selector" [class.selected]="option.selResult.indexOf(selOpt.cdeValue)!==-1">
            <label>
              <input type="checkbox" class="checkbox" [checked]="option.selResult.indexOf(selOpt.cdeValue)!==-1"  name="selOpt.cdeValue" [disabled]="option.selResult.length>1 && !option.selMore"   [ngClass]="{'show':option.selMore}" (click)="select(option,selOpt)">
              {{selOpt.cdeValueDesc}}
            </label>
            <!--[checked]="option.selResult.indexOf(selOpt.cdeValue)!==-1"  -->
          </li>
        </ul>
        <div class="select-btn" [class.show] = "option.selMore">
          <button type="button" name="button" class="btn btn-sm btn-ok" [disabled]="!option.selResult.length" (click)="option.selMore = false">确定</button>
          <button type="button" name="button" class="btn btn-sm btn-cancel" (click)="option.selMore = false">取消</button>
        </div>
      </div>
      <div class="select-more">
        <button type="button" name="button" class="btn btn-sm btn-white" [ngClass]="{'active':option.selMore,'hide':option.ifSingle}" (click)="option.selMore = !option.selMore">多选</button>
      </div>
    </div>
    <div class="select-items" *ngIf = "advancedOps.length">
      <div class="select-key">
        高级选项 :
      </div>
      <div class="select-value">
        <ul class="select-list">
          <li *ngFor = "let advancedOpt of advancedOps" class="selector">
            {{advancedOpt.cdeTypeDesc}}
          </li>
        </ul>
      </div>
    </div>
  </div>
</form>
<div class="result">
  <div class="res-top">
    <div class="sort">
      <a href="javascript:;" class="tbl-name">表名 &#8593;</a>
      <a href="javascript:;" class="tbl-owner">负责人 &#8593;</a>
      <a href="javascript:;" class="tbl-updtime">更新时间 &#8595;</a>
    </div>
    <button type="button" name="button" class="collect btn btn-blue">收藏的表</button>
  </div>
  <div class="tbl-list">
    <table class="table table-hover">
      <thead>
        <tr>
          <th class="text-center">英文表名</th>
          <th class="text-center">中文表名</th>
          <th class="text-center">数据层级</th>
          <th class="text-center">负责人</th>
          <th class="text-center">更新时间</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor = "let tbl of tblResult.datas" class="text-left">
          <td class="tblEnNms">{{tbl.tblEnNm}}</td>
          <td class="tblChNm">{{tbl.tblChNm}}</td>
          <td class="dataLvl">{{tbl.dataLvl}}</td>
          <td class="tblOwner">{{tbl.tblOwner}}</td>
          <td class="updtime">{{tbl.ddlUpdateTime}}</td>
          <td><button class="btn btn-collect">收藏</button><button class="btn btn-collected">已收藏</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="res-foot">
    <div class="page-wrap">
      <span class="page-num">
        <a href="javascript:;">< 上一页</a>
        <b class="page-break">...</b>
        <a href="javascript:;" *ngFor = "let i of [1,2,3,4,5,6,7]">{{i}}</a>
        <b class="page-break">...</b>
        <a href="javascript:;">下一页 ></a>
      </span>
      <span class="page-skip">
        共{{tblResult.totalPage}}页 到第 <input type="text" name="" class="skip-num" > 页
        <button class="btn btn-sm btn-blue">确定</button>
      </span>
    </div>
  </div>
</div>
