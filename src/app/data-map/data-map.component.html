<my-breadcrumb [curPath]="pagetitle"></my-breadcrumb>

<my-page-title [pagetitle]="pagetitle"></my-page-title>

<form (ngSubmit)='onSearch()'>
  <div class="search">
    <div class="form-group">
      <input type="text" list="list" [(ngModel)]="searchModel.tableName" autofocus name="tableName" class="form-control search-input" placeholder="按中文表名、英文表名搜索" #tableName="ngModel" (ngModelChange)='tableNameChange($event)'>
    </div>
    <button type="submit" name="button" class="btn btn-blue btn-search">搜索</button>
  </div>
</form>

<div class="col-md-12 chart">
  <div class="chart-box">
    <div class="bg"></div>
    <div echarts *ngIf="!searchResult" [options]="relatedOption" class="chart-graph"></div>
    <div echarts *ngIf="searchResult" [options]="bloodRelationMapOption" class="chart-graph"></div>
  </div>
  <!-- <div class="float-window" *ngIf="searchResult">
    <div class="red-window row">
      <p class="col-md-12">所属组名:{{bloodRelationModalData.groupName}}</p>
      <p class="col-md-12">负责人：{{bloodRelationModalData.cUser}}</p>
      <p class="col-md-12">创建时间：{{bloodRelationModalData.cDate}}</p>
      <p class="col-md-12">组调度表达式：{{bloodRelationModalData.cron}}</p>
      <p class="col-md-6">上游组数量：{{bloodRelationModalData.parentGroupTotal}}</p>
      <p class="col-md-6">下游组数量：{{bloodRelationModalData.subGroupTotal}}</p>
      <p class="col-md-6">直接上游组表数量：{{bloodRelationModalData.parentTableTotal}}</p>
      <p class="col-md-6">直接下游组表数量：{{bloodRelationModalData.subTableTotal}}</p>
    </div>
    <div class="blue-window row">
      <p class="col-md-12">所属组名：</p>
      <p class="col-md-12">负责人：</p>
      <p class="col-md-12">创建时间：</p>
      <p class="col-md-12">组调度表达式：</p>
    </div>
  </div> -->
</div>


<datalist id="list" *ngIf="!isChNm">
  <option  *ngFor="let option of searchList" [value]="option.tblEnNm">
</datalist>

<datalist id="list" *ngIf="isChNm">
  <option *ngFor="let option of searchList" [value]="option.tblChNm">
</datalist>